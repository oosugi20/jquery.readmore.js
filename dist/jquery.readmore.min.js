/*! jquery.readmore.js (git@github.com:oosugi20/jquery.readmore.js.git)
* 
 * lastupdate: 2013-12-19
 * version: 0.1.0
 * author: Makoto OOSUGI <oosugi20@gmail.com>
 * License: MIT
 */
!function(a){"use script";var b,c="Readmore",d="readmore";b=function(b,c){this.el=b,this.$el=a(b),this.options=a.extend({},c)},function(b){b.init=function(){this.url=this.$el.attr("data-readmore-url"),this.target=this.$el.attr("data-readmore-target"),this.$target=a(this.target),this._eventify();var b=this;setTimeout(function(){b.$el.trigger("readmore:initialized")},4)},b.fetch=function(b){return a.Deferred(function(c){a.ajax({dataType:"html",url:b,success:c.resolve,error:c.reject})}).promise()},b.append=function(a){this.$target.append(a),this.$el.trigger("readmore:appended")},b.pull=function(){var a=this;this.$el.trigger("readmore:beforePull"),this.fetch(this.url).then(function(b){a.$el.trigger("readmore:afterPull"),a.append(b)})},b.clicked=function(a){a.preventDefault(),this.pull()},b._eventify=function(){this.$el.on("click",a.proxy(this.clicked,this))}}(b.prototype),a.fn[d]=function(c){return this.each(function(){var e;a.data(this,d)||(e=new b(this,c),a.data(this,d,e),e.init())})},a[c]=b}(jQuery,this);